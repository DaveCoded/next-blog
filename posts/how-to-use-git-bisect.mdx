---
title: 'Yeah, Linus already thought of that'
subtitle: 'How to hunt down bugs with <code>git bisect</code>'
description:
  'A story about hunting down a bug in production and how much easier it would have been
  if I had known about git bisect.'
excerpt: ''
date: '04/26/22'
status: 'draft'
tags: ['git']
keywords:
  'git, git bisect, bug in production, Linus Torvalds, divide and conquer, binary search'
completion: 'spark'
---

## Outline

- Introduction: I'm going to tell you about how I went about finding a bug in production.
  It turns out, I could have done the same thing much quicker with `git bisect`, so skip
  ahead for that. Mention that it may not have been Linus responsible for the feature.
- Give context for the bug. It was merged into master/main but nobody knew when because it
  was a relatively unused feature of a program with only a few beta users.
- Go through the process of hunting it down. Checking out some commits, thinking of using
  binary search, then finding a snippet with good arguments for `git log` that helped
  narrow down commits that were merges into master.
- Explain how `git bisect` does the same and show the basic commands. Link to the proper
  documentation or show how to pull up the `man` page for it.
- Show how to narrow down the selection of commits that you want to consider and credit
  Shiva Rajagopal for this great post: https://interrupt.memfault.com/blog/git-bisect
- Write a bit about how learning `git` well, not just the basic features, is very
  beneficial. Advocate for more sharing of good tips etc.

<p>
  <Dropcap>Until</Dropcap> no people are involved in the process, writing software will
  always produce bugs. Many are preventable with good practices and checks in place. Many
  can be caught by automated tests or a rigorous QA team before they are released and
  cause any great damage. But there will always be some that escape us, making their way
  into production.
</p>

At such a time, we are likely to panic to some degree. How much depends on what the
software does, how many people rely on it, how frequently they use it and how your company
and colleagues react. Making this manner of mistake on a small SaaS product with an
infrequent user base and a relaxed company culture will feel very different to doing it
for a large payment-processing organisation used several hundred times a second
internationally.

But panic is no use to us at this point.<MarginNote id={1}>The feeling that you're about
to see your breakfast again is only useful for showing that you should take this
seriously. Or eat less for breakfast.</MarginNote> We are liable to rush, make erroneous
connections and overlook evidence in an effort to fix something quickly. The "more haste,
less speed" adage—despite being a yawnful cliché—is most pertinent when our emotions
threaten to seize control.

So what can help us? What will reduce the heart-rate, dispel the brain fog and prime the
solution pumps? I'm so glad you asked.

## Have a Plan

It's scintillatingly brilliant, don't you think? Instead of crying, stealing as much
office stationary as fits in your bag<MarginNote id={2}>It seems I've stumbled blindly
into the most overlooked reason for not working from home. Who wants to pay for
pens?</MarginNote> and retreating to a bunker for 20 years, just make a plan and execute
it. Oh, you want more, do you? Very well. Here's the real point.

> Make a plan now, _before_ you need to find and fix a bug in production.

Fixing the bug will depend entirely on your situation. I could probably only speak to the
web developers about that, and even then, there are so many possibilities that it's not
much use my trying to make plans for all eventualities. _Finding_ the bug, however, is
scoped enough that we can make a plan for it.

## Isolate the bug to a git commit

Depending on what the feedback loop is with your software, it may not be obvious what is
causing the bug and when the offending code was introduced into the project.
